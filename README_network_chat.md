# チャットベースのネットワーク可視化アプリケーション

このアプリケーションは、チャットインターフェイスを通じてネットワークデータを操作し、さまざまなレイアウトアルゴリズムを適用して可視化するためのツールです。MCPサーバーを使用して、ネットワークデータの永続化や高度なレイアウトアルゴリズムの適用などの機能を提供します。

## 主な機能

### ネットワークデータの管理

- **ネットワークファイルのアップロード**: GraphML, GEXF, GML, JSON, Pajek, EdgeList, AdjListなどの形式をサポート
- **ネットワークデータの保存**: ユーザーごとにネットワークデータを保存
- **ネットワークデータの読み込み**: 保存したネットワークデータを読み込み

### レイアウトアルゴリズム

以下のレイアウトアルゴリズムをサポートしています：

1. **Spring (バネモデル)**: ノード間の距離をバネの力で調整するレイアウト
2. **Circular (円形)**: ノードを円上に配置するレイアウト
3. **Kamada-Kawai**: エネルギー最小化に基づくレイアウト
4. **Fruchterman-Reingold**: 力学モデルに基づくレイアウト
5. **Spectral (スペクトル)**: グラフのラプラシアン行列の固有ベクトルを使用するレイアウト
6. **Shell (殻)**: ノードを同心円上に配置するレイアウト
7. **Spiral (螺旋)**: ノードを螺旋状に配置するレイアウト
8. **Community (コミュニティ)**: コミュニティ検出に基づくレイアウト

### ネットワーク分析

- **中心性指標の計算**: 次数中心性、近接中心性、媒介中心性、固有ベクトル中心性、PageRank
- **ノードのハイライト**: 特定のノードを強調表示
- **視覚的プロパティの変更**: ノードのサイズや色、エッジの幅や色を変更

### チャットインターフェイス

- **自然言語によるネットワーク操作**: チャットメッセージを通じてネットワークを操作
- **コマンド解析**: メッセージからネットワーク操作コマンドを抽出
- **対話的なフィードバック**: 操作結果をチャットメッセージとして表示

## 使用方法

### ネットワークデータのアップロード

1. 「Upload File」ボタンをクリックしてネットワークファイルを選択
2. サポートされている形式のファイルをアップロード
3. アップロードが完了すると、ネットワークが自動的に可視化されます

### レイアウトの変更

1. ドロップダウンメニューからレイアウトアルゴリズムを選択
2. 「Compare Layouts」ボタンをクリックして、異なるレイアウトを比較

### ネットワークデータの保存と読み込み

1. 「Save Network」ボタンをクリックしてネットワークに名前を付けて保存
2. 「Load Network」ボタンをクリックして保存したネットワークを読み込み

### チャットによるネットワーク操作

以下のようなメッセージを送信することで、ネットワークを操作できます：

- 「Change layout to circular」: レイアウトを円形に変更
- 「Calculate degree centrality」: 次数中心性を計算
- 「Highlight nodes 1, 2, and 3」: ノード1, 2, 3をハイライト
- 「Change node color to red」: ノードの色を赤に変更

## 技術的な詳細

### バックエンド

- **FastAPI**: RESTful APIの実装
- **NetworkX**: グラフ処理とレイアウトアルゴリズムの実装
- **MCP (Model Context Protocol)**: ネットワークデータの管理とツールの提供

### フロントエンド

- **React**: UIコンポーネントの実装
- **Zustand**: 状態管理
- **ForceGraph2D**: ネットワーク可視化
- **Tailwind CSS**: スタイリング

## MCPツール

以下のMCPツールが利用可能です：

1. `update_network`: ネットワークデータを更新
2. `change_layout`: レイアウトアルゴリズムを変更
3. `calculate_centrality`: 中心性指標を計算
4. `highlight_nodes`: ノードをハイライト
5. `change_visual_properties`: 視覚的プロパティを変更
6. `get_network_info`: ネットワーク情報を取得
7. `get_node_info`: ノード情報を取得
8. `save_network`: ネットワークデータを保存
9. `load_network`: ネットワークデータを読み込み
10. `list_user_networks`: ユーザーのネットワーク一覧を取得
11. `apply_community_layout`: コミュニティ検出に基づくレイアウトを適用
12. `compare_layouts`: 異なるレイアウトを比較

## 拡張と改善の可能性

1. **より高度なネットワーク分析機能**: クラスタリング係数、モジュラリティなどの計算
2. **時系列ネットワークの可視化**: 時間の経過に伴うネットワークの変化を可視化
3. **3Dネットワーク可視化**: 3次元空間でのネットワーク可視化
4. **大規模ネットワークの処理**: より効率的なアルゴリズムによる大規模ネットワークの処理
5. **ネットワークデータのエクスポート**: 処理後のネットワークデータをダウンロード可能に
